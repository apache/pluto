<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN"
        "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
    <!-- The DriverConfiguration Bean.  This is the only bean required -->
    <bean name="DriverConfiguration"
          class="org.apache.pluto.driver.config.impl.DriverConfigurationImpl">
      <constructor-arg><ref bean="PropertyConfigService"/></constructor-arg>
      <constructor-arg><ref bean="PortletRegistryService"/></constructor-arg>
      <constructor-arg><ref bean="RenderConfigService"/></constructor-arg>

      <!-- Container Services -->
      <constructor-arg><ref bean="PortalCallbackService"/></constructor-arg>
      <constructor-arg><ref bean="PortletPreferencesService"/></constructor-arg>
    </bean>

    <bean name="PropertyConfigService"
          class="org.apache.pluto.driver.services.impl.resource.ResourceServicesImpl"
          singleton="true">
    </bean>
    <bean name="PortletRegistryService"
          class="org.apache.pluto.driver.services.impl.resource.ResourceServicesImpl"
          singleton="true">
    </bean>
    <bean name="RenderConfigService"
          class="org.apache.pluto.driver.services.impl.resource.ResourceServicesImpl"
          singleton="true">
    </bean>

    <!-- Container Services -->
    <bean name="PortalCallbackService"
          class="org.apache.pluto.driver.services.container.PortalCallbackServiceImpl"
          singleton="true">
    </bean>

    <bean name="PortletPreferencesService"
          class="org.apache.pluto.driver.services.container.MemoryPreferencesService"
          singleton="true">
    </bean>

    <!-- Uncomment for Embedded Derby Service Implementations -->
    <!--
    <bean name="PortletPreferencesService"
          class="org.apache.pluto.driver.services.container.db.DBPortletPreferencesService"
          singleton="true">
        <constructor-arg><ref bean="DataSourceManager"/></constructor-arg>
    </bean>

    <bean name="DataSourceManager"
          class="org.apache.pluto.driver.services.container.db.EmbeddedDataSourceManager"
          singleton="true">
   </bean>
    -->

    <!-- Uncomment to utilize a JNDI bound DataSource instead of
         the embedded database datasource.  You must ensure that
         the schema is created before startup if you wish to use
         this DataSourceManager
    -->
    <!--
    <bean name="DataSourceManager"
          class="org.apache.pluto.driver.services.container.db.JNDIDataSourceManager"
          singleton="true">
        <constructor-arg><value>plutoDB</value></constructor-arg>
    </bean>
    -->
</beans>